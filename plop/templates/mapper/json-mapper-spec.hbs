import {{entity}}, { {{entity}}Interface } from '../../../../src/domain/entities/{{module}}/{{entity}}';
import {{entity}}JSONMapper from '../../../../src/data/mappers/{{module}}/{{entity}}JSONMapper';

describe('{{entity}}JSONMapper', () => {
  const mapper: {{entity}}JSONMapper = new {{entity}}JSONMapper();
  const json: {{entity}}Interface = DEFAULT_{{upperCase (snakeCase entity)}}_JSON;
  const entity: {{entity}} = DEFAULT_{{upperCase (snakeCase entity)}};

  test('toEntity', () => {
    expect(mapper.toEntity(json).equal(entity)).toBeTruthy();
  });

  test('toEntity with wrong json', () => {
    expect(() => mapper.toEntity({} as any)).toThrowError('Invalid json');
  });

  test('toJSON', () => {
    expect(mapper.toJSON(entity)).toEqual(json);
  });
});
